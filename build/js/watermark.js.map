{"version":3,"sources":["watermark.js"],"names":["window","onload","init","canvasW","canvasH","ofcanvasW","ofcanvasH","canvas","document","getElementById","ctx","getContext","width","height","image","Image","src","drawImage","strokeStyle","ofcanvas","createCanvas","drawWaterMark","console","log","createElement","fillStyle","fillRect","save","font","lineWidth","textAlign","textBaseline","fillText","restore"],"mappings":"AAAAA,OAAOC,MAAP,GAAcC,IAAd;AACA,IAAIC,OAAJ,EAAYC,OAAZ,EAAoBC,SAApB,EAA8BC,SAA9B;AACA,SAASJ,IAAT,GAAe;AACX,QAAIK,SAAOC,SAASC,cAAT,CAAwB,QAAxB,CAAX;AACA,QAAIC,MAAIH,OAAOI,UAAP,CAAkB,IAAlB,CAAR;AACAJ,WAAOK,KAAP,GAAaT,UAAQ,GAArB;AACAI,WAAOM,MAAP,GAAcT,UAAQ,GAAtB;AACA,QAAIU,QAAM,IAAIC,KAAJ,EAAV;AACAD,UAAME,GAAN,GAAU,cAAV;AACAF,UAAMb,MAAN,GAAagB,SAAb;AACA,aAASA,SAAT,GAAqB;AACjBP,YAAIQ,WAAJ,GAAgB,MAAhB;AACAR,YAAIO,SAAJ,CAAcH,KAAd,EAAoB,CAApB,EAAsB,CAAtB,EAAwB,GAAxB,EAA4B,GAA5B;AACA,YAAIK,WAASC,cAAb;AACAC,sBAAcF,SAAST,GAAvB;AACAY,gBAAQC,GAAR,CAAYlB,SAAZ;AACAK,YAAIO,SAAJ,CAAcE,SAASZ,MAAvB,EAA8B,GAA9B,EAAkC,GAAlC;AACH;AACJ;AACD,SAASa,YAAT,GAAuB;AACnB,QAAIb,SAAOC,SAASgB,aAAT,CAAuB,QAAvB,CAAX;AACA,QAAId,MAAIH,OAAOI,UAAP,CAAkB,IAAlB,CAAR;AACID,QAAIE,KAAJ,GAAUP,YAAU,GAApB;AACAK,QAAIG,MAAJ,GAAWR,YAAU,GAArB;AACJ,WAAO,EAACK,KAAIA,GAAL,EAASH,QAAOA,MAAhB,EAAP;AACH;AACD,SAASc,aAAT,CAAuBX,GAAvB,EAA2B;;AAEvBA,QAAIe,SAAJ,GAAc,gBAAd;AACAf,QAAIgB,QAAJ,CAAa,EAAb,EAAgB,CAAhB,EAAkB,GAAlB,EAAsB,EAAtB;AACAhB,QAAIiB,IAAJ;AACAjB,QAAIe,SAAJ,GAAc,sBAAd;AACAf,QAAIkB,IAAJ,GAAS,iBAAT;AACAlB,QAAImB,SAAJ,GAAc,GAAd;AACAnB,QAAIoB,SAAJ,GAAc,KAAd;AACApB,QAAIqB,YAAJ,GAAiB,QAAjB;AACArB,QAAIsB,QAAJ,CAAa,WAAb,EAAyB,GAAzB,EAA6B,EAA7B;AACAtB,QAAIuB,OAAJ;AACH","file":"watermark.js","sourcesContent":["window.onload=init;\r\nvar canvasW,canvasH,ofcanvasW,ofcanvasH;\r\nfunction init(){\r\n    var canvas=document.getElementById('canvas');\r\n    var ctx=canvas.getContext('2d');\r\n    canvas.width=canvasW=659;\r\n    canvas.height=canvasH=344;\r\n    var image=new Image();\r\n    image.src='images/2.jpg';\r\n    image.onload=drawImage;\r\n    function drawImage() {\r\n        ctx.strokeStyle='#000';\r\n        ctx.drawImage(image,0,0,659,344);\r\n        var ofcanvas=createCanvas();\r\n        drawWaterMark(ofcanvas.ctx);\r\n        console.log(ofcanvasW);\r\n        ctx.drawImage(ofcanvas.canvas,459,264);\r\n    }\r\n}\r\nfunction createCanvas(){\r\n    var canvas=document.createElement('canvas');\r\n    var ctx=canvas.getContext('2d');\r\n        ctx.width=ofcanvasW=200;\r\n        ctx.height=ofcanvasW=120;\r\n    return {ctx:ctx,canvas:canvas};\r\n}\r\nfunction drawWaterMark(ctx){\r\n    \r\n    ctx.fillStyle='rgba(0,0,0,.4)';\r\n    ctx.fillRect(80,0,120,80);\r\n    ctx.save();\r\n    ctx.fillStyle='rgba(255,255,255,.6)';\r\n    ctx.font='bold 20px Arial';\r\n    ctx.lineWidth='1';\r\n    ctx.textAlign='end';\r\n    ctx.textBaseline='middle';\r\n    ctx.fillText('-- DM. --',180,40);\r\n    ctx.restore();\r\n}"]}